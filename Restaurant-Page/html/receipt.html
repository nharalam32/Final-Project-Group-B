<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reciept</title>
    <link rel="stylesheet" href="../css/receipt.css">
</head>
<body>
    <section>
        <div id="header">
            <div id="header-relocatelinks">
                <ul>
                    <a href="menu.html"><li>Menu</li></a>
                    <a href=""><li>Locations</li></a>
                    <a href="#aboutus"><li>About Us</li></a>
                    <a href="#footer"><li>Contact Us</li></a>
                </ul>
            </div>
            <div id="header-companyname">
                <a href="../html/homepage.html"><h1 id="heading-header">Three Guys</h1></a>
            </div>
            <div id="signin-but">
                <button id="sign-but" type="button">Sign In</button>
            </div>
        </div>
    </section>
    <section id="pleasure-heading">
        <div>
            <h1>THANK YOU FOR YOUR ORDER!</h1>
        </div>
    </section>
    <section id="receipt-layout">
       <div id="reciept-container" align="center">
            <div id="receipt-header">
                <p>IT HAS BEEN A PLEASURE SERVING YOU<br>
                YOU WILL RECIEVE A NOTIFICATION WHEN YOUR ORDER<br>
                IS READY FOR PICK UP<br>
                </p>
                <p style="margin-top: 13px;">THREE GUYS LLC.</p>
            </div>
        </div> 
    </section>
    <div id="departure-prompt">
        <h2>HAVE A GREAT REST OF YOUR DAY!</h2>
    </div>
    <section id="footer">

<section id="footer">
    
</section>

<section id="sign-out">
    <div>
        <button onclick="signout()" id="sign-out-button" type="button">Sign Out</button>

    </div>
</section>
<style>
    /* Additional CSS for button styling */
    #sign-out-button {
        font-size: 1em; /* 5 times bigger */
        width: px;
        height: px;
        padding: 10px 20px;
        background-color: grey;
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    #sign-out-button:hover {
        background-color: red;
    }
</style>

        <div id="foot">
            <div id="leftside">
                <h1>THREE GUYS</h1>
            </div>
            <div id="rightside">
                <ul id="footerlist">
                    <a href="#aboutus"><li>LOCATIONS</li></a>
                    <a href=""><li>WE'RE HIRING</li></a>
                    <a href="#aboutus"><li>THE THREE GUYS STORY</li></a>
                </ul>
            </div>
        </div>
    </section>
    <section id="copyrightbs">
        <div>
            <p>@copyright 2023 THREE GUYS LLC</p>
        </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        // Retrieve cart data from URL parameters
        var urlParams = new URLSearchParams(window.location.search);
        var cartParam = urlParams.get("cart");
        var cart = cartParam ? JSON.parse(decodeURIComponent(cartParam)) : [];

        // Display cart items in the order summary on the payment page
        var orderSummary = document.querySelector(".order-summary");

        cart.forEach(function (item) {
            var itemDiv = document.createElement("div");
            itemDiv.classList.add("item");
            itemDiv.innerHTML = `
                <p>${item.name} - Quantity: ${item.quantity}</p>
                <p>$${(item.price * item.quantity).toFixed(2)}</p>
            `;
            orderSummary.appendChild(itemDiv);
        });

        // Calculate and display the total with tip
        var total = cart.reduce((total, item) => total + item.price * item.quantity, 0);
        var tipInput = document.getElementById("tip-amount");
        var totalWithTip = total + (tipInput.value ? parseFloat(tipInput.value) : 0);
        var totalDiv = document.querySelector(".total p:last-child");
        totalDiv.textContent = `$${totalWithTip.toFixed(2)}`;

        // Add event listener for the tip input
        tipInput.addEventListener("input", function () {
            totalWithTip = total + (this.value ? parseFloat(this.value) : 0);
            totalDiv.textContent = `$${totalWithTip.toFixed(2)}`;
        });

        // Example: Complete order button
        var completeOrderButton = document.querySelector("button");
        completeOrderButton.addEventListener("click", function (event) {
            event.preventDefault(); // Prevent form submission
            // Add logic to handle the order completion, e.g., send data to the server
            console.log("Order completed:", cart);
            relocate(cart);
        });
    });

    function relocate(cart) {
        // Assuming cart is the array containing order details
        var cartData = encodeURIComponent(JSON.stringify(cart));
        window.location.href = "receipt.html?cart=" + cartData;
    }

</script>
        
</body>
</html>